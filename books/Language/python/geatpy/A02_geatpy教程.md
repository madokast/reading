# geatpy 教程

## Geatpy总览

对于未接触过面向对象编程的用户而言，可以不采用上面所说的Geatpy提供的面向对象进化算法框架，可以通过直接调用工具箱的库函数来解决实际问题(详见第三章“快速入门”)。这样做的不好之处是需要比较熟悉工具箱的内核用法。

Geatpy工具箱提供了大量的跟进化算法有关的内核函数，涵盖了单目标优化、多目标优化、组合优化等方面的众多算子，同时提供指标评价、绘图等功能性函数。

## Geatpy数据结构

Geatpy的大部分数据都是存储在numpy的array数组里的，numpy中另外还有matrix的矩阵类型，但我们不使用它。

本文档默认array就是存储“矩阵”(也可以存储一维向量，接下来会谈到)。其中有一些细节需要特别注意：numpy的array在表示行向量时会有2种不同的结构，一种是1行n列的矩阵，它是二维的；一种是纯粹的一维行向量。因此，在Geatpy教程中会严格区分这两种概念，我们称前者为“行矩阵”，后者为“行向量”。Geatpy中不会使用超过二维的array

```
np.array([1,2,3]).shape == (3,) # 行向量

 np.array([[1],[2],[3]]).shape == (1,3) # 行矩阵
```

### 种群染色体 Chrom

Geatpy中，种群染色体是一个numpy的array类型的二维矩阵，一般用 Chrom 命名，每一行对应一个个体的一条染色体。

**每行是一个个体，列长度就是染色体长度**。

### 种群表现型 Phen

种群表现型的数据结构跟种群染色体基本一致，也是numpy的array类型。我们一般用Phen来命名。它是种群染色体矩阵Chrom经过解码后得到的基因表现型矩阵

**每行是一个个体，每列表示一种决策变量**。


### 目标函数值 ObjV

Geatpy采用numpy的array类型矩阵来存储种群的目标函数值。

对于单目标函数，ObjV会只有1列；而对于多目标函数，ObjV会有多列

**每行是一个个体，每列表示一种目标函数**。

### 个体适应度 FithV

是一个 n*1 的列向量，行数是个体数目，每行的值表示适应度。

### 违反约束程度 CV

Geatpy采用Numpy array类型的矩阵CV(Constraint Violation Value)来存储种群个体违反各个约束条件的程度

行数为个体数目，每列表示一种约束。

**CV矩阵的某个元素若小于或等于0，则表示该元素对应的个体满足对应的约束条件。若大于0，则表示违反约束条件，在大于0的条件下值越大，该个体违反该约束的程度就越高。**

**Geatpy提供两种处理约束条件的方法，一种是罚函数法，另一种是可行性法则。在使用可行性法则处理约束条件时，需要用到CV矩阵。**

### 译码矩阵

Geatpy使用译码矩阵(俗称区域描述器)来描述种群染色体的特征，如染色体中的每一位元素所表达的决策变量的范围、是否包含范围的边界、采用二进制还是格雷码、是否使用对数刻度、染色体解码后所代表的决策变量的是连续型变量还是离散型变量等等。

### 进化追踪器 跨代记录

在使用Geatpy进行进化算法编程时，常常建立一个进化追踪器(如pop_trace)来记录种群在进化的过程中各代的最优个体，尤其是采用无精英保留机制时，进化追踪器帮助我们记录种群在进化的“历史长河”中产生过的最优个体。


## 快速入门

